{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block body %}

<section class="vh-100 user-home">
    <div class="container py-4 d-flex justify-content-center">
        <div class="d-flex flex-column">
        <!-- Shows user account info-->
            <div class="card my-5 shadow-lg" style="width: 45rem; border-radius: 1rem; background-color: rgba(255, 255, 255, 0.5)">
                <div class="card-header fw-bold">
                    <h5 class="fw-bold">Account Information</h5>
                </div>
                <div class="card-body fw-bold my-2">
                    <div class="my-2">First Name: {{user.fname}}</div>
                    <div class="my-2"> Last Name: {{user.lname}}</div>
                    <div class="my-2">Email: {{user.email}}</div>
                    <div class="my-2">Phone Number: {{user.phone}}</div>
                    <div class="row align-items-center my-2">
                        <div class="col-2">Password:</div>
                        <!-- <div class="col" id="current-pwd"> {{user.password}}</div> -->
                        <div class="col" id="current-pwd"> **********</div>
                        <!-- <button id="show-pwd" class="col-3 mx-2 btn btn-secondary btn-sm" style="display: none;">Show password</button> -->
                        <button id="change-pwd-btn" class="col-3 btn btn-secondary btn-sm" style="display: block;">Change password</button>
                        <form id="change-pwd" class="my-5" method="POST" style="display: none;">
                            <div class="row my-2">
                                <label class="col-4" for="">New password: </label>
                                <input id="newPwd-1" class="col-3 mx-2" type="password">
                                <button id="show-input-pwd1" class="col-3 btn-sm" type="button">Show password</button>
                            </div>
                            <div class="row my-2">
                                <label class="col-4" for="">Confirm new password: </label>
                                <input id="newPwd-2" class="col-3 mx-2" type="password">
                                <button id="show-input-pwd2" class="col-3 btn-sm" type="button">Show password</button>
                            </div>
                            <div class="text-start mt-2 alert" id="password-requirements">
                                <strong>Password must be:</strong>
                                <ul>
                                    <li>Minimum length of 8 characters.</li>
                                    <li>Has one uppercase character.</li>
                                    <li>Contains one special character: &, %, $, #, !.</li>
                                </ul>
                            </div>
                            <button id="submit-pwd-change" class="btn btn-primary btn-sm col-3" type="submit">Update password</button>
                        </form>

                    </div>
                </div>
            </div>

            <!-- Shows all the museums the user liked -->
            <div class="card my-3 shadow-lg" style="width: 45rem; border-radius: 1rem; background-color: rgba(255, 255, 255, 0.5)">
                <div class="card-header fw-bold">
                    <h5 class="fw-bold">Liked museums:</h5>
                </div>
                <div class="card-body">
                    {% if museums|length == 0 %}
                        <div>
                            You haven't liked any museum.
                        </div>
                    {% endif %}
                    <ul>
                        {% for museum in museums %}
                            <li class="my-2">
                                <a href="{{museum.website}}">{{museum.name}}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="/static/js/update_password.js"></script>
<script src="/static/js/validate_create_account_info.js"></script>
<script src="/static/js/show_input_pwd.js"></script>
{% endblock %}
